## RPC框架与SOA框架区别？

### 1 RPC框架

RPC(Remote Procedure Call Protocol)是指远程过程调用，也就是说两台服务器A、B，一个部署在A服务器上的应用想调用B服务器上提供的接口等方法信息，由于不在一个内存空间，不能直接进行调用，需要通过网络来表达嗲用的语义和传达调用的数据

#### 1.1 存在问题

##### 1.1.1 通信问题

首先要解决通信问题，主要是通过客户端和服务器之间建立Tcp连接，远程过程调用的所有交换的数据都在这个连接里进行传输

##### 1.1.2 寻址问题

要解决寻址问题，也就是说A服务器上的应用怎么告诉底层的RPC框架，如何连接到B服务器（如主机或IP地址）以及特定的端口，方法的名称是什么，这样才能完成调用。比如基于Web服务协议的RPC，就要提供一个endpoint URL，或者是从UDDI服务上查找（web service中具体用到了rpc框架）

##### 1.1.3 参数传递

当A服务器上的应用远程过程调用时，方法的参数需要通过底层的网络协议如TCP传递到B服务器，由于网络协议是基于二进制的，内存中的参数的值要序列化成二进制的形式，通过寻址和传输序列化的二进制发送给B服务器

##### 1.1.4 反序列化

B服务器收到请求后，需要对参数进行反序列化，恢复成为内存中的传递方式，然后找到对应的方法进行本地回调，然后得到返回值

##### 1.1.5 返回调用者

B服务器上处理逻辑后的信息要返回给服务器A上的调用者，也要经过序列化的方式发送，服务器A接到后，再反序列化，恢复为内存汇总的表达式

### 2 SOA框架

#### 简介

以一个公司为例：

有基层员工 有管理层 有老板，最初大家都听老板指挥，谁干什么谁干什么，根据需要，你可能今天干A事情，明天干B事情，后来人越来越多了，事情也越来越多了，做事情的效率越来越多，管理也很混乱，就开始做部门划分（服务化），专门部门做专门事情的，IT部门只做研发，人事部门只做招聘； 这个时候就无法避免的发生跨部门协作（服务器调用）， 但是你怎么知道有这样一个部门可以做这个事情呢，就要依赖行政部门（注册中心），新成立的部门要在行政哪里做一个备案（服务注册），然后公布一下，让其他部门知道了（服务发布），大家就可以在新的工作秩序里面嗨皮的上班了，这个时候依然是在公司的组织架构中运转；